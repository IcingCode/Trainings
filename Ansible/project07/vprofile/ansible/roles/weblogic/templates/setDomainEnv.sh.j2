#!/bin/bash
# Custom Domain Environment Setup

# Oracle Environment
export ORACLE_BASE="{{ oracle_base }}"
export ORACLE_HOME="{{ oracle_home }}"
export ORACLE_HOME_OHS="{{ oracle_home_ohs }}"
export MW_HOME="{{ middleware_home }}"
export MW_HOME_OHS="{{ middleware_home_ohs }}"
export WLS_HOME="{{ wls_home }}"
export WL_HOME="{{ wl_home }}"
export JAVA_BASE="{{ java_base }}"
export JAVA_HOME="{{ java_home }}"
export DOMAIN_BASE="{{ domain_base }}"
export DOMAIN_HOME="{{ domain_home }}"
export DOMAIN_HOME_OHS="{{ domain_home_ohs }}"
export DOMAIN_SHARE="{{ domain_share }}"
export DOMAIN_APP_HOME="{{ domain_app_home }}"
export NODEMGR_HOME="{{ nodemgr_home }}"
export KEYSTR_SHARE="{{ keystr_share }}"
export LOG_BASE="{{ log_base }}"
export TEMP="{{ oracle_temp }}"

# JVM Configuration
export CONFIG_JVM_ARGS="{{ config_jvm_args }}"

# Memory Configuration
USER_MEM_ARGS="-Xms{{ weblogic_memory_min }} -Xmx{{ weblogic_memory_max }}"

# JVM Arguments for production
JAVA_OPTIONS="${JAVA_OPTIONS} -server"
JAVA_OPTIONS="${JAVA_OPTIONS} -XX:+UseG1GC"
JAVA_OPTIONS="${JAVA_OPTIONS} -XX:+UseCompressedOops"
JAVA_OPTIONS="${JAVA_OPTIONS} ${CONFIG_JVM_ARGS}"

# WebLogic specific arguments
JAVA_OPTIONS="${JAVA_OPTIONS} -Dweblogic.Stdout={{ log_base }}/{{ weblogic_domain_name }}.out"
JAVA_OPTIONS="${JAVA_OPTIONS} -Dweblogic.Stderr={{ log_base }}/{{ weblogic_domain_name }}.err"

# Path Configuration
export PATH="{{ oracle_home_ohs }}/oracle_common/jdk/jre/bin:{{ java_home }}/bin:$PATH"

# Export variables
export USER_MEM_ARGS
export JAVA_OPTIONS
